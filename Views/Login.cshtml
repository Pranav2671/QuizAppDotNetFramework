@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_Layout.cshtml"; // Adjust if needed
}

<h2 class="text-center">Login</h2>

<div class="row">
    <div class="col-md-4 col-md-offset-4">
        @using (Html.BeginForm("Login", "Auth", FormMethod.Post))
        {
            <div class="form-group">
                <label for="username">Username</label>
                @Html.TextBox("username", null, new { @class = "form-control", placeholder = "Enter Username", required = "required" })
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                @Html.Password("password", null, new { @class = "form-control", placeholder = "Enter Password", required = "required" })
            </div>

            <div class="form-group">
                <label for="role">Role</label>
                <select name="role" class="form-control" required>
                    <option value="">--Select Role--</option>
                    <option value="Admin">Admin</option>
                    <option value="User">User</option>
                </select>
            </div>

            <div class="form-group">
                <input type="submit" value="Login" class="btn btn-primary btn-block" />
            </div>
        }

        @* Place error message OUTSIDE the using block *@
        @{
            if (ViewBag.Error != null)
            {
                <div class="alert alert-danger">
                    @ViewBag.Error
                </div>
            }
        }
    </div>
</div>
